# Overview

Inside this directory you can find the files related to the framework itself. The _src_ directory is where all the functionalities and configurations were implemented. The server was configured to listen at the 4333 port (_app.js_) and the _index.js_ is where the code to start the server were written. The _router.js_ file contains the routes to communicate with the modules of the framework's architecture that were implemented. 

## Modules

In this directory is the implementation of all the framework's modules. Inside each module you can find subdirectories with the controllers, gateways and use cases. All the controllers are just an _index.js_ file where subroutes can be defined and the respective data or operations can be retrieved or executed to respect of each module. The use cases are relative to each operation that can be executed within a module. The unique function of each use case is to receive the necessary arguments to execute the operation and call the respective function in the gateway passed as argument in the constructor. The gateways of each module are where the functions called by the use cases are implemented, allowing a good level of decoupling of the code. 

**demographic_survey**: it is the module responsible to control the operations related to return the demographic survey information, to verify if the demofraphic form was already filled by the user and to send the filled data to the database after the filling.

**events**: module responsible to save the events in an external database. 

**experiment_informations**: module responsible to return information about the experiment like instructions, name and summary. 

**icf**: module responsible to return information about the informed consent form and verify if the user already agreed with it or not.

**questionnaires**: module responsible to save the information of the pre and post-questionnaires in an external database. This module also verify if these questionnaires were already answered. 

**search**: module responsible to connect with external services that provide search results to the experiment. In this prototype was implemented a connection with the _Google Custom Search API_. The service was configured to return only the first ten google search results and the geolocation was setted to us location. 

**tasks**: module responsible to return the data of an specific task or of a list of tasks. This module also verify if the task was already assigned to a certain user and to assign the task to the user if it was not assigned before. 

**user**: module responsible to create a user on the database if the user was not registered yet. 

**OBS**: in this prototype, the firebase realtime database was used to save all the information of the experiment generated by the user. Hence, responses to questionnaires and events in search tasks are saved in this database. 

## shared

In this directory are the files related to external services or data that can be used by all modules. 

**config**: contains the configuration file of the experiment (_config.yaml_). Get functions to retrieve the specific data from the file were implemented (ConfigurationFile.js). 

**database**: contains the firebase credentials to access the realtime database. The _FirebaseRealtimeDatabase.js_ needs the correct arguments provided by firebase to use the API. 
